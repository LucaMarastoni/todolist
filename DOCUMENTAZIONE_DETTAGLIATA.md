# Documentazione dettagliata riga per riga

## pom.xml
- 1: apertura del tag `<project>` con namespace Maven standard.
- 2: specifica namespace XML Schema Instance necessario per gli attributi `xsi`.
- 3: indica dove reperire lo schema 4.0.0 del POM per validare il file.
- 4: definisce la versione del modello POM utilizzato (4.0.0).
- 5: apre la sezione `parent` che eredita configurazioni dal parent Spring Boot.
- 6: groupId del parent: `org.springframework.boot`.
- 7: artifactId del parent: `spring-boot-starter-parent`.
- 8: versione del parent (3.2.5) che controlla anche le versioni delle dipendenze.
- 9: `relativePath` vuoto per indicare che il parent va cercato nel repository Maven.
- 10: chiusura della sezione `parent`.
- 11: riga vuota per migliorare la leggibilità.
- 12: definisce il `groupId` del progetto applicativo (com.example).
- 13: definisce l'`artifactId` (todolist) che diventa il nome del jar.
- 14: versione del progetto in sviluppo (0.0.1-SNAPSHOT).
- 15: nome leggibile del progetto.
- 16: breve descrizione del progetto.
- 17: riga vuota di separazione.
- 18: apertura del blocco `properties`.
- 19: imposta la versione minima del JDK (17) per compilare il progetto.
- 20: chiusura del blocco `properties`.
- 21: riga vuota.
- 22: apertura della sezione `dependencies`.
- 23: inizio dichiarazione dipendenza Spring Web.
- 24: groupId della dipendenza web.
- 25: artifactId della dipendenza web.
- 26: chiusura del tag `dependency` per Spring Web.
- 27: inizio dipendenza Thymeleaf.
- 28: groupId per Thymeleaf starter.
- 29: artifactId per Thymeleaf starter.
- 30: chiusura dipendenza Thymeleaf.
- 31: inizio dipendenza Spring Data JPA.
- 32: groupId della dipendenza JPA.
- 33: artifactId della dipendenza JPA.
- 34: chiusura dipendenza JPA.
- 35: inizio dipendenza per la validazione.
- 36: groupId dello starter validation.
- 37: artifactId dello starter validation.
- 38: chiusura della dipendenza validation.
- 39: inizio dipendenza Spring Security.
- 40: groupId dello starter security.
- 41: artifactId dello starter security.
- 42: chiusura dipendenza security.
- 43: inizio dipendenza thymeleaf extras per tag security.
- 44: groupId del modulo extras.
- 45: artifactId del modulo extras.
- 46: chiusura dipendenza extras.
- 47: inizio dipendenza H2.
- 48: groupId del database H2.
- 49: artifactId del database H2.
- 50: scope runtime perché serve solo in esecuzione.
- 51: chiusura dipendenza H2.
- 52: inizio dipendenza test.
- 53: groupId dello starter test.
- 54: artifactId dello starter test.
- 55: scope di test per non includerla a runtime.
- 56: chiusura dipendenza test.
- 57: chiusura blocco `dependencies`.
- 58: riga vuota di separazione.
- 59: apertura della sezione `build`.
- 60: apertura del blocco `plugins`.
- 61: inizio configurazione plugin Spring Boot.
- 62: groupId del plugin Spring Boot.
- 63: artifactId del plugin Spring Boot.
- 64: chiusura del tag `plugin`.
- 65: chiusura blocco `plugins`.
- 66: chiusura sezione `build`.
- 67: chiusura del tag radice `project`.

## src/main/resources/application.properties
- 1: definisce il nome dell'app Spring Boot (todolist).
- 2: riga vuota per separare blocchi.
- 3: commento che introduce la configurazione del database in memoria.
- 4: URL JDBC per creare un DB H2 in memoria chiamato `todos` e mantenerlo aperto.
- 5: classe driver da usare per H2.
- 6: username di default per H2 (sa).
- 7: password vuota per semplicità in ambiente demo.
- 8: riga vuota.
- 9: commento sulla configurazione automatica dello schema.
- 10: abilita l'aggiornamento automatico dello schema (utile in demo).
- 11: disattiva la stampa delle query SQL in console.
- 12: riga vuota.
- 13: commento che introduce la console web di H2.
- 14: abilita l'interfaccia web della console.
- 15: imposta il percorso della console (`/h2-console`).
- 16: riga vuota.
- 17: commento sulla cache dei template.
- 18: disabilita la cache di Thymeleaf per vedere subito i cambiamenti.

## src/main/java/com/example/todolist/TodolistApplication.java
- 1: dichiarazione del package principale `com.example.todolist`.
- 2: riga vuota.
- 3: import della classe `SpringApplication` necessaria per avviare l'app.
- 4: import dell'annotazione `SpringBootApplication` che abilita auto-configurazione, component scan e configurazione.
- 5: riga vuota.
- 6: inizio commento Javadoc che descrive lo scopo del file.
- 7: prima riga del commento: nota che il progetto ha un unico main.
- 8: seconda riga del commento: sottolinea che Spring Boot fa il grosso del lavoro.
- 9: chiusura del commento Javadoc.
- 10: annotazione `@SpringBootApplication` per registrare la classe come entry-point.
- 11: inizio dichiarazione della classe `TodolistApplication`.
- 12: riga vuota interna alla classe per leggibilità.
- 13: apertura di un commento Javadoc sul metodo main.
- 14: descrive che il metodo avvia l'applicazione.
- 15: chiude il commento Javadoc.
- 16: firma del metodo `main` statico.
- 17: invoca `SpringApplication.run` per bootstrap del contesto Spring.
- 18: chiusura del blocco del metodo main.
- 19: chiusura della classe.

## src/main/java/com/example/todolist/config/SecurityConfig.java
- 1: definisce il package `config`.
- 2: riga vuota.
- 3: import dell'annotazione `Bean` per dichiarare bean Spring.
- 4: import dell'annotazione `Configuration` per definire una classe di configurazione.
- 5: import dell'API `HttpSecurity` per configurare la sicurezza HTTP.
- 6: import della classe `User` builder per utenti in-memory.
- 7: import dell'interfaccia `UserDetailsService`.
- 8: import del factory `PasswordEncoderFactories` per ottenere un encoder.
- 9: import dell'interfaccia `PasswordEncoder`.
- 10: import dell'implementazione `InMemoryUserDetailsManager`.
- 11: import dell'interfaccia `SecurityFilterChain`.
- 12: riga vuota.
- 13: annotazione `@Configuration` che registra la classe nel contesto.
- 14: inizio dichiarazione della classe `SecurityConfig`.
- 15: riga vuota.
- 16: apertura commento Javadoc descrittivo della configurazione.
- 17: prima riga del commento: indica che la configurazione è basica.
- 18: seconda riga: spiega che il CSS e il login restano pubblici.
- 19: terza riga: spiega che il resto richiede autenticazione.
- 20: chiusura commento Javadoc.
- 21: annotazione `@Bean` che esporta il filtro come bean Spring.
- 22: firma del metodo `securityFilterChain` che riceve `HttpSecurity`.
- 23: inizio catena di configurazione fluente su `http`.
- 24: commento inline che introduce la sezione autorizzazioni.
- 25: configurazione delle richieste: costruzione del matcher.
- 26: permette accesso libero a CSS, console H2 e pagina di login.
- 27: forza l'autenticazione su qualunque altra richiesta.
- 28: chiude la definizione del blocco authorize.
- 29: commento inline sulla configurazione del login.
- 30: avvia blocco `formLogin`.
- 31: specifica che la pagina di login personalizzata sta su `/login`.
- 32: imposta il redirect standard dopo il login su `/`.
- 33: consente a tutti di vedere il form di login.
- 34: chiude il blocco `formLogin`.
- 35: commento inline sulla configurazione del logout.
- 36: avvia la configurazione `logout`.
- 37: imposta il redirect a `/login?logout` dopo il logout.
- 38: consente l'accesso all'endpoint di logout.
- 39: chiude la sezione logout.
- 40: commento inline che introduce la gestione speciale per H2.
- 41: apre configurazione CSRF.
- 42: esclude la rotta `/h2-console/**` dal controllo CSRF per far funzionare la console.
- 43: chiude il blocco CSRF.
- 44: apre configurazione header HTTP.
- 45: imposta il frame options su sameOrigin così la console H2 può aprirsi in un iframe.
- 46: chiude configurazione header.
- 47: chiude la catena e restituisce il filtro costruito.
- 48: restituisce il filtro di sicurezza.
- 49: riga vuota.
- 50: apertura commento Javadoc per il metodo userDetailsService.
- 51: spiega che c'è un utente demo con credenziali fisse.
- 52: aggiunge una nota sull'utilizzo in progetti semplici.
- 53: chiude il commento Javadoc.
- 54: annotazione `@Bean` che esporta il servizio utenti.
- 55: firma del metodo `userDetailsService` che riceve un `PasswordEncoder`.
- 56: crea un builder `User`.
- 57: assegna lo username "utente".
- 58: codifica la password "password" tramite l'encoder.
- 59: assegna il ruolo "USER".
- 60: costruisce l'oggetto `UserDetails`.
- 61: restituisce un `InMemoryUserDetailsManager` con l'utente configurato.
- 62: chiusura del metodo.
- 63: riga vuota.
- 64: commento Javadoc per il bean encoder.
- 65: specifica che si usa il delegating encoder standard.
- 66: chiusura commento.
- 67: annotazione `@Bean` per esportare l'encoder.
- 68: firma del metodo `passwordEncoder`.
- 69: ritorna il delegating password encoder.
- 70: chiusura della classe `SecurityConfig`.
- 71: (implicito) fine file.

## src/main/java/com/example/todolist/web/LoginController.java
- 1: dichiarazione del package `web`.
- 2: riga vuota.
- 3: import della classe `AnonymousAuthenticationToken` per verificare l'utente anonimo.
- 4: import dell'interfaccia `Authentication`.
- 5: import di `SecurityContextHolder` per leggere l'autenticazione corrente.
- 6: import dell'annotazione `Controller`.
- 7: import di `GetMapping` per mappare richieste GET.
- 8: riga vuota.
- 9: apertura del commento Javadoc che descrive la responsabilità della classe.
- 10: prima riga del commento che definisce il ruolo del controller.
- 11: seconda riga che spiega la logica di redirect.
- 12: chiusura del commento Javadoc.
- 13: annotazione `@Controller` per registrare la classe nel contesto MVC.
- 14: inizio dichiarazione della classe `LoginController`.
- 15: riga vuota.
- 16: commento Javadoc del metodo `loginPage`.
- 17: descrive che il metodo mostra il template di login.
- 18: chiusura del commento.
- 19: annotazione `@GetMapping("/login")` per associare il metodo alla rotta login.
- 20: firma del metodo `loginPage`.
- 21: ottiene l'oggetto `Authentication` corrente dal SecurityContext.
- 22: riga vuota per leggibilità.
- 23: commento che spiega il controllo sull'utente già loggato.
- 24: condizione che verifica la presenza dell'autenticazione.
- 25: verifica che l'utente sia autenticato.
- 26: assicura che non si tratti dell'utente anonimo predefinito.
- 27: se la condizione è vera, ritorna un redirect verso la home.
- 28: chiude il blocco `if`.
- 29: riga vuota.
- 30: ritorna il nome del template `login` da mostrare.
- 31: chiusura del metodo.
- 32: chiusura della classe.

## src/main/java/com/example/todolist/todo/Todo.java
- 1: definisce il package `todo`.
- 2: riga vuota.
- 3: import di `Entity`.
- 4: import di `GeneratedValue`.
- 5: import di `GenerationType`.
- 6: import di `Id`.
- 7: import di `Table`.
- 8: import di `NotBlank` per la validazione.
- 9: riga vuota.
- 10: apertura commento Javadoc descrittivo della classe.
- 11: seconda riga della descrizione.
- 12: terza riga che sottolinea il livello di commenti.
- 13: chiusura commento.
- 14: annotazione `@Entity` per mappare la classe su una tabella.
- 15: annotazione `@Table` che definisce il nome della tabella `todos`.
- 16: inizio dichiarazione della classe `Todo`.
- 17: riga vuota.
- 18: annotazione `@Id` che marca il campo come chiave primaria.
- 19: annotazione `@GeneratedValue` con strategia `IDENTITY` per auto-incremento.
- 20: dichiarazione del campo `id` di tipo `Long`.
- 21: riga vuota.
- 22: annotazione `@NotBlank` con messaggio personalizzato per il titolo.
- 23: dichiarazione del campo `title`.
- 24: riga vuota.
- 25: dichiarazione del campo booleano `completed`.
- 26: riga vuota.
- 27: inizio costruttore vuoto.
- 28: commento che spiega perché esiste.
- 29: chiusura del costruttore.
- 30: riga vuota.
- 31: inizio costruttore che accetta il titolo.
- 32: commento che descrive il comportamento del costruttore.
- 33: assegna il titolo passato al campo.
- 34: chiusura del costruttore.
- 35: riga vuota.
- 36: firma del getter `getId`.
- 37: commento che descrive il getter.
- 38: ritorna l'id.
- 39: chiusura del metodo.
- 40: riga vuota.
- 41: firma del getter `getTitle`.
- 42: commento sul getter del titolo.
- 43: ritorna il titolo.
- 44: chiusura del metodo.
- 45: riga vuota.
- 46: inizio setter `setTitle`.
- 47: commento sullo scopo del setter.
- 48: assegna il nuovo titolo al campo.
- 49: chiusura del setter.
- 50: riga vuota.
- 51: inizio getter booleano `isCompleted`.
- 52: commento descrittivo.
- 53: ritorna il flag `completed`.
- 54: chiusura metodo.
- 55: riga vuota.
- 56: inizio setter `setCompleted`.
- 57: commento che spiega il setter.
- 58: aggiorna il campo `completed`.
- 59: chiusura metodo.
- 60: chiusura della classe.

## src/main/java/com/example/todolist/todo/TodoRepository.java
- 1: definisce il package repository.
- 2: riga vuota.
- 3: import dell'interfaccia `JpaRepository`.
- 4: riga vuota.
- 5: apertura commento Javadoc.
- 6: descrive che ereditando da JpaRepository otteniamo le operazioni CRUD.
- 7: chiusura commento.
- 8: inizio dichiarazione dell'interfaccia `TodoRepository` estendendo `JpaRepository`.
- 9: riga vuota.
- 10: metodo derivato che conta per stato `completed`.
- 11: riga vuota.
- 12: metodo derivato che elimina tutte le attività completate.
- 13: chiusura interfaccia.

## src/main/java/com/example/todolist/todo/TodoService.java
- 1: dichiarazione del package.
- 2: riga vuota.
- 3: import della classe `List`.
- 4: riga vuota.
- 5: import di `Sort` per ordinare i risultati.
- 6: import di `Service` per marcare la classe come servizio.
- 7: import di `Transactional` per gestire le transazioni.
- 8: riga vuota.
- 9: apertura del commento Javadoc descrittivo del servizio.
- 10: seconda riga del commento.
- 11: terza riga del commento.
- 12: chiusura del commento.
- 13: annotazione `@Service`.
- 14: annotazione `@Transactional`.
- 15: inizio della classe `TodoService`.
- 16: riga vuota.
- 17: dichiarazione del campo `repository`.
- 18: riga vuota.
- 19: firma del costruttore.
- 20: commento sul costruttore.
- 21: assegnazione del repository al campo di classe.
- 22: chiusura del costruttore.
- 23: riga vuota.
- 24: inizio metodo `findAll`.
- 25: commento che descrive l'ordinamento applicato.
- 26: ritorna tutte le attività ordinate usando `orderTodos`.
- 27: chiusura metodo.
- 28: riga vuota.
- 29: inizio metodo `add`.
- 30: commento sulla validazione del parametro.
- 31: controllo su `title == null`.
- 32: ritorno anticipato in caso di null.
- 33: chiusura if.
- 34: riga che rimuove gli spazi dal titolo.
- 35: controllo su stringa vuota.
- 36: ritorno anticipato per evitare salvataggi vuoti.
- 37: chiusura if.
- 38: salva una nuova entità `Todo` con il titolo.
- 39: chiusura metodo.
- 40: riga vuota.
- 41: inizio metodo `toggle`.
- 42: commento che descrive la logica.
- 43: cerca l'entità per id e, se presente, esegue il lambda.
- 44: invertiamo il flag `completed`.
- 45: salviamo l'entità aggiornata.
- 46: chiusura lambda e `ifPresent`.
- 47: chiusura metodo.
- 48: riga vuota.
- 49: inizio metodo `delete`.
- 50: commento descrittivo.
- 51: invoca `deleteById` sul repository.
- 52: chiude il metodo.
- 53: riga vuota.
- 54: inizio metodo `countCompleted`.
- 55: commento descrittivo.
- 56: ritorna il conteggio per `completed=true`.
- 57: chiude metodo.
- 58: riga vuota.
- 59: inizio metodo `countActive`.
- 60: commento descrittivo.
- 61: ritorna il conteggio per `completed=false`.
- 62: chiusura metodo.
- 63: riga vuota.
- 64: inizio metodo `clearCompleted`.
- 65: commento descrittivo.
- 66: invoca il metodo repository per cancellare le completate.
- 67: chiusura metodo.
- 68: riga vuota.
- 69: inizio metodo privato `orderTodos`.
- 70: commento sul criterio di ordinamento.
- 71: prima parte della catena `Sort` che ordina per `completed` crescente.
- 72: seconda parte che ordina per `id` decrescente per le attività più recenti.
- 73: chiusura del metodo.
- 74: chiusura della classe.

## src/main/java/com/example/todolist/todo/TodoForm.java
- 1: dichiarazione del package.
- 2: riga vuota.
- 3: import di `NotBlank`.
- 4: riga vuota.
- 5: apertura commento Javadoc sul DTO.
- 6: seconda riga del commento.
- 7: chiusura del commento.
- 8: inizio dichiarazione della classe `TodoForm`.
- 9: riga vuota.
- 10: annotazione `@NotBlank` con messaggio personalizzato.
- 11: dichiarazione del campo `title`.
- 12: riga vuota.
- 13: inizio getter `getTitle`.
- 14: commento descrittivo.
- 15: restituisce il titolo.
- 16: chiusura getter.
- 17: riga vuota.
- 18: inizio setter `setTitle`.
- 19: commento descrittivo.
- 20: assegna il valore al campo.
- 21: chiude la classe.
- 22: (implicito) fine file.

## src/main/java/com/example/todolist/todo/TodoController.java
- 1: dichiarazione del package.
- 2: riga vuota.
- 3: import di `Valid` per attivare le annotazioni di validazione.
- 4: riga vuota.
- 5: import di `Controller`.
- 6: import di `Model`.
- 7: import di `BindingResult`.
- 8: import di `GetMapping`.
- 9: import di `ModelAttribute`.
- 10: import di `PathVariable`.
- 11: import di `PostMapping`.
- 12: import di `RedirectAttributes`.
- 13: riga vuota.
- 14: commento Javadoc che descrive il ruolo del controller.
- 15: seconda riga del commento.
- 16: terza riga del commento.
- 17: chiusura commento.
- 18: annotazione `@Controller`.
- 19: inizio dichiarazione della classe.
- 20: riga vuota.
- 21: dichiarazione del campo `service`.
- 22: riga vuota.
- 23: inizio costruttore.
- 24: commento sul funzionamento dell'injection.
- 25: assegna il servizio al campo.
- 26: chiude il costruttore.
- 27: riga vuota.
- 28: annotazione `@GetMapping("/")` per la home.
- 29: firma del metodo `home`.
- 30: commento che introduce il controllo sul form.
- 31: condizione che verifica la presenza del form nel model.
- 32: se manca, aggiunge un nuovo `TodoForm`.
- 33: commento che spiega l'aggiunta.
- 34: commento che introduce gli attributi aggiuntivi.
- 35: aggiunge la lista delle attività al model.
- 36: aggiunge il conteggio delle attive.
- 37: aggiunge il conteggio delle completate.
- 38: restituisce il nome del template `index`.
- 39: chiusura del metodo.
- 40: riga vuota.
- 41: annotazione `@PostMapping("/todos")` per l'inserimento.
- 42: firma del metodo `createTodo` con form, bindingResult e redirectAttributes.
- 43: commento sul controllo degli errori.
- 44: condizione che verifica se ci sono errori di validazione.
- 45: aggiunge il `BindingResult` come flash attribute.
- 46: aggiunge il form compilato come flash attribute.
- 47: ritorna un redirect alla home per ripresentare il form con errori.
- 48: commento sulle operazioni quando non ci sono errori.
- 49: invoca il servizio per creare la nuova attività.
- 50: ritorna redirect alla home per evitare reinvio.
- 51: chiusura metodo.
- 52: riga vuota.
- 53: annotazione `@PostMapping("/todos/{id}/toggle")`.
- 54: firma del metodo `toggleTodo`.
- 55: invoca il servizio per invertire lo stato dell'attività.
- 56: ritorna redirect alla home.
- 57: chiusura metodo.
- 58: riga vuota.
- 59: annotazione `@PostMapping("/todos/{id}/delete")`.
- 60: firma del metodo `deleteTodo`.
- 61: invoca il servizio per eliminare l'attività.
- 62: ritorna redirect alla home.
- 63: chiusura metodo.
- 64: riga vuota.
- 65: annotazione `@PostMapping("/todos/clear-completed")`.
- 66: firma del metodo `clearCompleted`.
- 67: invoca il servizio per cancellare tutte le completate.
- 68: ritorna redirect alla home.
- 69: chiusura metodo.
- 70: chiusura classe.
- 71: (implicito) fine file.

## src/main/resources/templates/index.html
- 1: dichiarazione del doctype HTML5.
- 2: apertura del tag `<html>` con lingua italiana e namespace Thymeleaf/Spring Security.
- 3: apertura del tag `<head>`.
- 4: meta tag charset UTF-8.
- 5: meta tag viewport per layout responsive.
- 6: titolo della pagina.
- 7: commento che spiega l'uso del CSS minimale.
- 8: link al foglio di stile con URL risolto da Thymeleaf.
- 9: chiusura del tag head.
- 10: apertura del body.
- 11: commento che introduce la barra superiore.
- 12: apertura dell'header con classe `topbar`.
- 13: titolo principale mostrato all'utente.
- 14: div che contiene le info utente, visibile solo se autenticato.
- 15: span che mostra il nome utente autenticato.
- 16: apertura form logout collegato al path `/logout`.
- 17: campo hidden per il token CSRF richiesto da Spring Security.
- 18: bottone per effettuare il logout.
- 19: chiusura del form logout.
- 20: chiusura del div utente.
- 21: chiusura dell'header.
- 22: riga vuota separata nel markup (linea vuota visiva).
- 23: apertura del main con classe `layout`.
- 24: commento che introduce il form di inserimento.
- 25: form con classe `todo-form`, action `/todos`, metodo POST e binding `todoForm`.
- 26: campo hidden con token CSRF per il form principale.
- 27: campo di input legato al campo `title` del form.
- 28: bottone per aggiungere l'attività.
- 29: chiusura del form.
- 30: commento sul feedback di validazione.
- 31: paragrafo che mostra l'errore di validazione se presente.
- 32: riga vuota (separatore visivo).
- 33: commento che introduce le statistiche.
- 34: apertura della sezione `stats`.
- 35: paragrafo che mostra il numero di attività attive.
- 36: paragrafo che mostra il numero di attività completate.
- 37: formulario per cancellare le attività completate, visibile solo se ce ne sono.
- 38: token CSRF per il form di clear-completed.
- 39: bottone per l'azione di pulizia.
- 40: chiusura del form di clear-completed.
- 41: chiusura sezione stats.
- 42: riga vuota nel markup.
- 43: commento introduttivo della lista.
- 44: apertura della lista non ordinata con classe `todo-list`, mostrata solo se non vuota.
- 45: elemento di lista iterato per ogni `todo`, con classe `done` se completato.
- 46: commento che introduce il form toggle.
- 47: form per togglare lo stato dell'attività con path dinamico.
- 48: token CSRF per il form toggle.
- 49: bottone che mostra ✓ o ○ a seconda dello stato.
- 50: chiusura del form toggle.
- 51: riga vuota nel markup per leggibilità.
- 52: commento che introduce il testo dell'attività.
- 53: span che mostra il titolo dell'attività.
- 54: riga vuota nel markup.
- 55: commento che introduce il form di cancellazione.
- 56: form per eliminare l'attività corrente.
- 57: token CSRF per il form delete.
- 58: bottone che invia la richiesta di eliminazione.
- 59: chiusura del form delete.
- 60: chiusura dell'elemento `<li>`.
- 61: chiusura dell'elenco `<ul>`.
- 62: riga vuota.
- 63: commento che introduce il messaggio lista vuota.
- 64: paragrafo con classe `empty` mostrato quando non ci sono todo.
- 65: chiusura del main.
- 66: chiusura del body.
- 67: chiusura dell'html.

## src/main/resources/templates/login.html
- 1: dichiarazione doctype HTML5.
- 2: apertura tag html con lingua italiana e namespace Thymeleaf.
- 3: apertura tag head.
- 4: meta charset UTF-8.
- 5: meta viewport per il responsive.
- 6: titolo della pagina di login.
- 7: commento che segnala il riuso del CSS principale.
- 8: link al foglio di stile.
- 9: chiusura del head.
- 10: apertura del body con classe `login-layout`.
- 11: apertura del main con classe `login-card`.
- 12: commento che introduce il titolo del form.
- 13: tag h1 con messaggio di benvenuto.
- 14: paragrafo che spiega cosa fare.
- 15: riga vuota nel markup (spazio visivo).
- 16: commento che introduce il form di login.
- 17: form con action `/login` e metodo POST.
- 18: token CSRF per il form di login.
- 19: riga vuota (spazio nel markup).
- 20: commento che introduce il campo username.
- 21: label collegata all'input username.
- 22: input di testo per lo username con autocomplete appropriato.
- 23: riga vuota.
- 24: commento che introduce il campo password.
- 25: label per il campo password.
- 26: input di tipo password con autocomplete per la password corrente.
- 27: riga vuota.
- 28: commento che introduce il pulsante di invio.
- 29: bottone per inviare il form.
- 30: riga vuota.
- 31: commento che introduce i messaggi informativi.
- 32: paragrafo che mostra l'errore in caso di credenziali errate.
- 33: paragrafo che mostra un messaggio positivo dopo il logout.
- 34: chiusura del form.
- 35: chiusura del main.
- 36: chiusura del body.
- 37: chiusura dell'html.

## src/main/resources/static/styles.css
- 1: commento di sezione per il blocco "Stile generale".
- 2: apertura del selettore `:root`.
- 3: commento che spiega le scelte di font e colori.
- 4: imposta il font principale della pagina.
- 5: imposta il colore del testo di default.
- 6: imposta il colore di sfondo globale.
- 7: chiusura del blocco `:root`.
- 8: riga vuota.
- 9: apertura del selettore `body`.
- 10: azzera il margin di default.
- 11: imposta l'altezza minima per coprire tutta la viewport.
- 12: imposta uno sfondo uniforme.
- 13: chiusura del blocco `body`.
- 14: riga vuota.
- 15: dichiarazione combinata per `a` e `button`.
- 16: commento implicito (riga vuota) per leggibilità.
- 17: forza i link e i bottoni a usare lo stesso font del body.
- 18: chiusura del blocco combinato.
- 19: riga vuota.
- 20: commento di sezione per la barra superiore.
- 21: apertura del selettore `.topbar`.
- 22: limita la larghezza massima a 720px.
- 23: centra l'header orizzontalmente.
- 24: aggiunge padding interno da 1.5rem.
- 25: imposta il layout flessibile.
- 26: allinea verticalmente gli elementi al centro.
- 27: distribuisce lo spazio orizzontale tra titolo e user box.
- 28: aggiunge spazio tra gli elementi figli.
- 29: chiude il blocco `.topbar`.
- 30: riga vuota.
- 31: apre il selettore `.topbar h1`.
- 32: rimuove il margine del titolo.
- 33: imposta la dimensione del font del titolo.
- 34: chiude il blocco del titolo.
- 35: riga vuota.
- 36: apre il selettore `.topbar-user`.
- 37: imposta layout flessibile per gli elementi dell'utente.
- 38: allinea verticalmente al centro.
- 39: crea spazio tra nome e bottone.
- 40: chiude il blocco.
- 41: riga vuota.
- 42: apre `.topbar button`.
- 43: imposta il padding del bottone logout.
- 44: arrotonda gli angoli.
- 45: rimuove il bordo standard.
- 46: imposta un colore di sfondo neutro.
- 47: cambia il cursore in pointer.
- 48: chiude il blocco.
- 49: riga vuota.
- 50: commento sezione layout principale.
- 51: apre `.layout`.
- 52: imposta la larghezza massima a 720px.
- 53: centra il contenitore e aggiunge margine inferiore.
- 54: aggiunge padding orizzontale.
- 55: usa layout a colonna.
- 56: imposta gap fra i blocchi.
- 57: definisce spazio verticale uniforme.
- 58: chiude il blocco.
- 59: riga vuota.
- 60: apre `.todo-form`.
- 61: usa flexbox per il form.
- 62: imposta spazio tra input e bottone.
- 63: chiude il blocco.
- 64: riga vuota.
- 65: apre `.todo-form input`.
- 66: fa occupare all'input tutta la larghezza disponibile.
- 67: imposta padding interno comodo.
- 68: arrotonda gli angoli dell'input.
- 69: imposta un bordo grigio chiaro.
- 70: chiude blocco input.
- 71: riga vuota.
- 72: apre `.todo-form button`.
- 73: imposta padding del bottone.
- 74: rimuove il bordo.
- 75: arrotonda gli angoli.
- 76: imposta un background blu.
- 77: imposta il testo bianco.
- 78: imposta il cursore pointer.
- 79: chiude il blocco.
- 80: riga vuota.
- 81: apre `.stats`.
- 82: usa flexbox.
- 83: allinea verticalmente al centro.
- 84: definisce gap tra gli elementi.
- 85: chiude il blocco.
- 86: riga vuota.
- 87: apre `.stats p`.
- 88: rimuove il margine dai paragrafi.
- 89: chiude il blocco.
- 90: riga vuota.
- 91: apre `.stats form`.
- 92: sposta il form di clear-completed a destra.
- 93: chiude il blocco.
- 94: riga vuota.
- 95: apre `.stats button`.
- 96: definisce padding del bottone.
- 97: rimuove il bordo standard.
- 98: arrotonda gli angoli.
- 99: imposta background rosso.
- 100: imposta testo bianco.
- 101: cambia il cursore.
- 102: chiude il blocco.
- 103: riga vuota.
- 104: commento sulla sezione lista.
- 105: apre `.todo-list`.
- 106: rimuove bullet della lista.
- 107: azzera margini.
- 108: azzera padding.
- 109: usa flex column.
- 110: definisce lo spazio verticale tra gli elementi.
- 111: imposta gap 0.75rem.
- 112: chiude il blocco.
- 113: riga vuota.
- 114: apre `.todo-list li`.
- 115: imposta layout flex per ogni elemento.
- 116: allinea verticalmente.
- 117: spazio tra i controlli.
- 118: padding interno per click comodo.
- 119: arrotonda gli angoli del contenitore.
- 120: sfondo bianco.
- 121: bordo grigio chiaro.
- 122: chiude il blocco.
- 123: riga vuota.
- 124: apre `.todo-list li.done span`.
- 125: applica una linea sul testo completato.
- 126: imposta colore grigio attenuato.
- 127: chiude il blocco.
- 128: riga vuota.
- 129: apre `.todo-list button`.
- 130: rimuove bordo.
- 131: rimuove background.
- 132: cambia il cursore a pointer.
- 133: imposta dimensione font 1rem.
- 134: chiude il blocco.
- 135: riga vuota.
- 136: apre `.todo-list form:last-child button`.
- 137: imposta colore rosso per il bottone di cancellazione.
- 138: chiude il blocco.
- 139: riga vuota.
- 140: apre `.empty`.
- 141: imposta colore grigio tenue.
- 142: rende il testo corsivo.
- 143: chiude il blocco.
- 144: riga vuota.
- 145: commento sezione messaggi.
- 146: apre `.alert`.
- 147: padding interno.
- 148: arrotonda gli angoli del messaggio.
- 149: background giallo chiaro.
- 150: bordo arancione.
- 151: chiude il blocco.
- 152: riga vuota.
- 153: apre `.alert.success`.
- 154: usa background verde chiaro.
- 155: bordo verde più acceso.
- 156: chiude il blocco.
- 157: riga vuota.
- 158: commento sezione layout login.
- 159: apre `.login-layout`.
- 160: abilita flexbox.
- 161: centra verticalmente.
- 162: centra orizzontalmente.
- 163: aggiunge padding intorno.
- 164: chiude il blocco.
- 165: riga vuota.
- 166: apre `.login-card`.
- 167: imposta larghezza massima.
- 168: permette di occupare tutta la larghezza disponibile fino al massimo.
- 169: sfondo bianco.
- 170: arrotonda gli angoli.
- 171: padding interno generoso.
- 172: layout a colonna.
- 173: gap tra gli elementi verticali.
- 174: bordo sottile per definire il card.
- 175: chiude blocco.
- 176: riga vuota.
- 177: apre `.login-card h1`.
- 178: rimuove margine.
- 179: centra il testo del titolo.
- 180: chiude blocco.
- 181: riga vuota.
- 182: apre `.login-card form`.
- 183: imposta layout colonna.
- 184: definisce gap verticale.
- 185: chiude il blocco.
- 186: riga vuota.
- 187: apre `.login-card label`.
- 188: imposta dimensione font più piccola.
- 189: colore grigio dei label.
- 190: chiude blocco.
- 191: riga vuota.
- 192: apre `.login-card input`.
- 193: definisce padding.
- 194: arrotonda gli angoli.
- 195: bordo grigio chiaro.
- 196: chiude blocco.
- 197: riga vuota.
- 198: apre `.login-card button`.
- 199: aggiunge margine superiore.
- 200: definisce padding verticale e orizzontale.
- 201: arrotonda gli angoli.
- 202: rimuove il bordo.
- 203: imposta background blu.
- 204: mette il testo bianco.
- 205: cambia il cursore in pointer.
- 206: chiude blocco.
- 207: riga vuota.
- 208: commento sulla sezione responsive.
- 209: apertura della media query `@media`.
- 210: condizioni per schermi sotto 520px.
- 211: riga vuota interna.
- 212: apertura selettore `.todo-form` all'interno della media query.
- 213: imposta direzione colonna per il form su mobile.
- 214: chiude il blocco.
- 215: riga vuota.
- 216: apertura `.stats`.
- 217: imposta layout colonna su mobile.
- 218: allinea gli elementi a sinistra.
- 219: imposta gap ridotto.
- 220: chiude blocco.
- 221: riga vuota.
- 222: apertura `.stats form`.
- 223: rimuove il margine sinistro così il bottone non resta spostato.
- 224: chiude blocco.
- 225: chiude la media query.

## src/main/resources/application.properties (già documentato sopra)
- (ripetizione voluta) vedere sezione dedicata per i dettagli linea per linea.

## src/main/java/com/example/todolist/todo/TodoForm.java (già documentato sopra)
- (ripetizione voluta) vedere sezione specifica per i dettagli.

> Nota: le righe vuote sono indicate quando presenti per spiegare intenzionalmente la spaziatura nel codice.
